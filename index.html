<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Yello</title>
</head>
<body>
    <form class="input-wrapper" onsubmit="return handleSubmit(event)">
        <input 
        class="input-style"
        type="text" 
        placeholder="Enter your phone number" 
        id="phoneNumber"
        />
  
        <button
        class="btn-style"
         type="submit">
          Enter
        </button>
  
      <h2 class="provider-style" id="provider"></h2>
  
      </form>
  
  

    <script>
 const isNum = (char) => {
    const code = char.charCodeAt(0)
    return (
        code >= 48 && code <= 57
        ) 
}

// console.log(isNumeric("k"))

const isNumeric = (str) => {
    let onlyNumbers = ''
    for (let i = 0; i < str.length; i++){
        const char = str[i]
        if(!isNum(char)){
        return false
        }
        onlyNumbers = onlyNumbers + char
    }
    
    return true
}

// console.log(isNumeric("17439"))

const eleven = (str) => {
    if(!isNumeric(str)){
        return false
    }
    if(str.length !== 11){
        return false
    }
    return true
}

const isStringMTNNum = (str) => {
//   get the first three caractars in the string
  const firstThree = str.slice(0,4)
   
//   console.log("123456")
    if(!eleven(str)){
        return false
    }
  
    // if firstthreechar === 0802 || first3 === 89
    console.log(firstThree)
  
    // if(
    //     firstThree !== "0803" &&
    //     firstThree !== "0806" &&
    //     firstThree !== "0703" &&
    //     firstThree !== "0706" &&
    //     firstThree !== "0810" &&
    //     firstThree !== "0813" &&
    //     firstThree !== "0814" &&
    //     firstThree !== "0816" &&
    //     firstThree !== "0903" &&
    //     firstThree !== "0906" 
    // ){
    //     return false
    // }
    
    const mtnPrefixes = [
      "0803", "0806", "0703", "0706", "0810", "0813", 
      "0814", "0816", "0903", "0906"
    ]
    
    return mtnPrefixes.includes(firstThree)
}

const handleSubmit = (event) => {
    event.preventDefault()

    const phoneNumber = document.getElementById("phoneNumber").value
    const providerDisplay = document.getElementById("provider")

    if(isStringMTNNum(phoneNumber)){
      providerDisplay.textContent = "ðŸ˜ŠYello! Your MTN number is valid."
    } else {
      providerDisplay.textContent = "ðŸ™‚Uh-oh! Not an MTN number."
    }

    if(!phoneNumber){
      providerDisplay.textContent = ""
    }
  }


    </script>
</body>
</html>